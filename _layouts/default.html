<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
   
  <title>{{ page.title }}</title>
  <link rel="shortcut icon" type="image/x-icon" href="{{ '/Images/icon/favicon.ico' | relative_url }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ '/Images/icon/favicon-32x32.png' | relative_url }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ '/Images/icon/favicon-16x16.png' | relative_url }}">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ '/Images/icon/apple-touch-icon.png' | relative_url }}">
  <link rel="manifest" href="{{ '/Images/icon/site.webmanifest' | relative_url }}">
 
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono&display=swap" rel="stylesheet">
   
  <style>
    /* --- 0. å…¨å±€è®¾ç½® --- */
    body { 
      margin: 0; padding: 0; color: #e0e7ff; 
      font-family: 'Inter', -apple-system, sans-serif; 
      line-height: 1.6; overflow-x: hidden; 
      cursor: none; 
      scrollbar-width: thin; scrollbar-color: #3b82f6 transparent;
    }
    @media (pointer: coarse) { body { cursor: auto; } }
 
    img, video, iframe {
      max-width: 100% !important; height: auto !important; box-sizing: border-box;
    }
 
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(59, 130, 246, 0.5); border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(59, 130, 246, 0.8); }
    ::selection { background: #3b82f6; color: #ffffff; text-shadow: 0 0 8px rgba(255, 255, 255, 0.8); }
 
    /* --- 1. è‡ªå®šä¹‰å…‰æ ‡ --- */
    .cursor-dot, .cursor-outline {
      position: fixed; top: 0; left: 0; 
      transform: translate(-50%, -50%); border-radius: 50%; z-index: 99999; pointer-events: none;
    }
    .cursor-dot { width: 8px; height: 8px; background-color: #3b82f6; }
    .cursor-outline { 
      width: 40px; height: 40px; border: 1px solid rgba(59, 130, 246, 0.5); 
      transition: width 0.2s, height 0.2s, background-color 0.2s;
    }
    body.hovering .cursor-outline { width: 60px; height: 60px; background-color: rgba(59, 130, 246, 0.1); border-color: transparent; }
 
    /* --- 2. è¿›åº¦æ¡ --- */
    #progress-bar {
      position: fixed; top: 0; left: 0; height: 3px;
      background: linear-gradient(90deg, #3b82f6, #60a5fa); 
      width: 0%; z-index: 99999; transition: width 0.1s;
    }
 
    /* --- 3. èƒŒæ™¯ --- */
    #vanta-bg { 
      position: fixed; z-index: -5; top: 0; left: 0; width: 100%; height: 100%; 
      background: #0a0a0f; 
      animation: pulse-bg 8s infinite ease-in-out; 
      filter: contrast(1.2) brightness(1.1); 
    }
    #vanta-bg::after {
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at center, transparent 0%, rgba(10, 10, 15, 0.4) 100%);
      pointer-events: none;
    }
 
    /* --- 4. å¸ƒå±€åŒ…è£¹å™¨ --- */
    .layout-wrapper {
      position: relative; max-width: 860px; 
      /* PCç«¯é»˜è®¤é¡¶éƒ¨è¾¹è· */
      margin: 140px auto 60px; 
      z-index: 10;
      perspective: 1000px;
    }
 
    /* --- 5. æœºå™¨äººæ ¸å¿ƒ --- */
    #bot-container { 
      /* [é»˜è®¤çŠ¶æ€ - PCé¡¶éƒ¨] */
      position: absolute; 
      top: 70px; left: 50%; 
      transform: translateX(-50%); 
      width: 120px; height: 70px; 
      z-index: 9999; cursor: pointer; 
      opacity: 0; 
      animation: botEnter 0.5s ease-out forwards;
      transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); 
    }

    /* [çŠ¶æ€ - PCç«¯æ»šåŠ¨åå›ºå®šåœ¨è§’è½] */
    #bot-container.fixed-mode {
      position: fixed !important;
      top: auto !important;
      left: auto !important;
      bottom: 30px !important;
      right: 30px !important;
      transform: scale(0.9) !important; 
      opacity: 1 !important;
    }

    .pulse-ring {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      width: 100px; height: 100px;
      border-radius: 50%; border: 2px solid rgba(59, 130, 246, 0.6);
      opacity: 0; z-index: -1; animation: pulse-ring-anim 3s infinite; pointer-events: none;
    }
    #bot-container.hint-removed .pulse-ring { opacity: 0; animation: none; }

    .bot-head { width: 100px; height: 50px; background: #ffffff; border: 2px solid #e0e7ff; border-bottom: none; border-radius: 50px 50px 20px 20px; margin: 0 auto; position: relative; box-shadow: 0 -5px 15px rgba(59, 130, 246, 0.15); display: flex; justify-content: center; align-items: center; gap: 10px; padding-top: 5px; animation: float-bot 3s ease-in-out infinite; }
    
    /* çœ¼ç› & çµåŠ¨å¾®ç¬‘ç‰¹æ•ˆ */
    .bot-eye { 
      width: 28px; height: 28px; background: #bfdbfe; 
      border-radius: 50%; border: 1px solid #93c5fd; 
      position: relative; overflow: hidden; 
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55); 
    }
    .bot-pupil { width: 14px; height: 14px; background: #1e3a8a; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); transition: opacity 0.2s; }
    .bot-lid { position: absolute; top: 0; left: 0; width: 100%; height: 0%; background: #ffffff; z-index: 10; animation: blink 4s infinite; }
    
    /* è¯´è¯æ—¶çš„çµåŠ¨æ‘‡æ‘†çœ¼ (Playful Wiggle) */
    #bot-container.speaking .bot-eye { 
      height: 10px; width: 32px; 
      border-radius: 50% 50% 0 0; 
      background: transparent; 
      border: 3px solid #3b82f6; border-bottom: none; 
      box-shadow: none; margin-top: 6px;
      animation: happy-eye-wiggle 0.8s ease-in-out infinite; 
    }
    #bot-container.speaking .bot-pupil, #bot-container.speaking .bot-lid { opacity: 0; }

    /* å¤©çº¿ & å‘¼å¸ç¯ */
    .bot-antenna { position: absolute; top: -25px; left: 50%; transform: translateX(-50%); width: 2px; height: 25px; background: #e0e7ff; }
    .bot-antenna::after { content: ''; position: absolute; top: -6px; left: -3px; width: 8px; height: 8px; border-radius: 50%; animation: pulse-antenna-breath 2s infinite ease-in-out; }
 
    /* --- æœºå™¨äººè¯´è¯æ°”æ³¡ --- */
    #bot-speech {
      position: absolute; top: -45px; left: 50%;
      transform: translateX(-50%) scale(0); transform-origin: bottom center;
      background: rgba(30, 41, 59, 0.95); color: #fff;
      padding: 6px 14px; border-radius: 12px;
      font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; white-space: nowrap; pointer-events: none;
      border: 1px solid rgba(59, 130, 246, 0.4); box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s;
      z-index: 10000; opacity: 0;
    }
    #bot-speech::after {
      content: ''; position: absolute; bottom: -5px; left: 50%;
      width: 8px; height: 8px; background: inherit;
      transform: translateX(-50%) rotate(45deg);
      border-right: 1px solid rgba(59, 130, 246, 0.4); border-bottom: 1px solid rgba(59, 130, 246, 0.4);
    }
    #bot-container.speaking #bot-speech { transform: translateX(-50%) scale(1); opacity: 1; }

    /* --- RPG äº’åŠ¨å¯¹è¯æ¡† --- */
    #rpg-dialogue {
      position: absolute;
      top: 65px; left: 50%;
      transform: translateX(-50%) translateY(20px);
      width: 600px; max-width: 90vw;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid #3b82f6; border-radius: 12px; padding: 15px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.6), 0 0 15px rgba(59, 130, 246, 0.2);
      z-index: 20000; opacity: 0; pointer-events: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex; flex-direction: column; gap: 10px;
      font-family: 'JetBrains Mono', monospace;
    }
    #rpg-dialogue.active { opacity: 1; transform: translateX(-50%) translateY(0); pointer-events: auto; }
    
    /* PCç«¯ï¼šåº•éƒ¨å›ºå®šæ¨¡å¼ä¸‹ï¼Œå¯¹è¯æ¡†å‘ä¸Šå¼¹ */
    #bot-container.fixed-mode #rpg-dialogue {
        top: auto; bottom: 80px; 
        left: auto; right: 0; 
        transform: translateY(20px);
    }
    #bot-container.fixed-mode #rpg-dialogue.active { transform: translateY(0); }

    #rpg-text { color: #bfdbfe; font-size: 0.9rem; min-height: 40px; line-height: 1.5; }
    #rpg-cursor { display: inline-block; width: 8px; height: 14px; background: #3b82f6; vertical-align: middle; animation: blink 1s infinite; }
    #rpg-options { display: flex; flex-direction: column; gap: 8px; margin-top: 5px; }
    .rpg-btn {
      background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); color: #93c5fd;
      padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 0.8rem; text-align: left;
      transition: all 0.2s; opacity: 0; transform: translateX(-10px); animation: slideIn 0.3s forwards;
    }
    .rpg-btn:hover { background: rgba(59, 130, 246, 0.25); border-color: #60a5fa; color: #fff; transform: translateX(2px); }
    @keyframes slideIn { to { opacity: 1; transform: translateX(0); } }
    .rpg-close { position: absolute; top: 5px; right: 8px; font-size: 18px; color: #475569; cursor: pointer; }
    .rpg-close:hover { color: #fff; }

    /* --- 6. å®¹å™¨ & æ‰“å­—æœº --- */
    .container { 
      position: relative; padding: 60px 80px; 
      background: rgba(255, 255, 255, 0.05); 
      backdrop-filter: blur(20px) saturate(180%); -webkit-backdrop-filter: blur(20px) saturate(180%); 
      border-radius: 20px; box-shadow: 0 20px 50px rgba(59, 130, 246, 0.15); 
      border: 1px solid rgba(255, 255, 255, 0.1); border-top: 4px solid #3b82f6; 
      opacity: 0; animation: fadeUp 0.8s ease-out 0.3s forwards; z-index: 1;
      transform-style: preserve-3d; transition: transform 0.1s ease-out; 
      overflow: hidden; 
    }
    .container::before {
      content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
      background: radial-gradient(800px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255, 255, 255, 0.07), transparent 40%);
      z-index: -1; pointer-events: none; opacity: 0; transition: opacity 0.5s;
    }
    .container:hover::before { opacity: 1; }
    #main_content table { width: 100% !important; border-collapse: collapse; margin: 20px 0; background: rgba(10, 10, 15, 0.3); border-radius: 8px; overflow: hidden; }
    #main_content th, #main_content td { padding: 12px; border: 1px solid rgba(255, 255, 255, 0.1); }
    #main_content tr:first-child, #main_content thead tr { background: rgba(30, 41, 59, 0.8) !important; }
    #main_content th { color: #60a5fa; font-weight: 600; }
    .typewriter-container { font-family: 'JetBrains Mono', monospace; font-size: 1.1rem; color: #93c5fd; min-height: 1.6em; margin-bottom: 2rem; }
    .typewriter-cursor { animation: blink-cursor 0.8s infinite; border-left: 3px solid #3b82f6; margin-left: 2px; }
 
    /* --- 7. Badge æ ·å¼ --- */
    .nav-badges { margin: 2rem 0; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
    .nav-badges a { opacity: 0; animation: fadeUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; position: relative; z-index: 2; }
    .nav-badges img { height: 28px !important; width: auto; border-radius: 50px; box-shadow: 0 2px 6px rgba(59, 130, 246, 0.15); border: 1.5px solid white; transition: all 0.3s; mix-blend-mode: normal !important; }
    .nav-badges a:hover img { animation: float-hover 2s ease-in-out infinite; box-shadow: 0 8px 20px rgba(59, 130, 246, 0.35); transform: scale(1.1); }
    .nav-badges img.rippling { animation: ripple-wave 0.5s forwards; }
      
    /* --- åŠ¨ç”»åº“ --- */
    @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes float-bot { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
    @keyframes blink { 0%, 48%, 52%, 100% { height: 0%; } 50% { height: 100%; } }
    @keyframes botEnter { from { opacity: 0; transform: translateX(-50%) translateY(20px); } to { opacity: 1; transform: translateX(-50%) translateY(0); } }
    @keyframes blink-cursor { from, to { opacity: 1; } 50% { opacity: 0; } }
    @keyframes pulse-bg { 0% { opacity: 0.7; } 50% { opacity: 1; } 100% { opacity: 0.7; } }
    @keyframes ripple-wave { 0% { transform: scale(1); } 30% { transform: scale(1.15) translateY(-5px); } 100% { transform: scale(1); } }
    @keyframes pulse-ring-anim { 0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.6; } 100% { transform: translate(-50%, -50%) scale(1.4); opacity: 0; } }
    @keyframes pulse-antenna-breath { 0%, 100% { background: #3b82f6; box-shadow: 0 0 5px #3b82f6; } 50% { background: #93c5fd; box-shadow: 0 0 15px #60a5fa, 0 0 8px #ffffff; } }
    @keyframes happy-eye-wiggle { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(4deg); } 75% { transform: rotate(-4deg); } }
 
    /* --- [å…³é”®ä¿®æ­£] æ‰‹æœºç«¯é€‚é… (å·¦å³é’‰æ­»ç­–ç•¥) --- */
    @media (max-width: 768px) { 
      .cursor-dot, .cursor-outline { display: none; } 
      .layout-wrapper { margin-top: 40px !important; }

      #bot-container { 
        display: block !important;
        position: fixed !important;
        top: auto !important; left: auto !important;
        right: 20px !important; bottom: 30px !important; 
        transform: scale(0.85) translateX(0) !important;
        opacity: 1 !important; 
        animation: none !important;
      }

      /* [é‡ç‚¹] å·¦å³å„ç•™ 10pxï¼Œå¼ºåˆ¶å®½åº¦æ’‘æ»¡ä¸­é—´ï¼Œç»å¯¹ä¸æº¢å‡º */
      #bot-container #rpg-dialogue {
        position: fixed !important;
        top: auto !important; 
        bottom: 100px !important;
        
        left: 10px !important;  /* å·¦è¾¹è· 10px */
        right: 10px !important; /* å³è¾¹è· 10px */
        width: auto !important; /* å®½åº¦è‡ªåŠ¨è®¡ç®— */
        max-width: none !important; /* å–æ¶ˆæœ€å¤§å®½åº¦é™åˆ¶ */
        
        transform: translateY(10px) !important; /* åªåšå‚ç›´ä½ç§»ï¼Œä¸å·¦å³ä½ç§» */
      }
      
      #bot-container #rpg-dialogue.active {
        transform: translateY(0) !important;
      }

      .container { padding: 30px 20px; } 
      #main_content { overflow-x: auto; }
    }
  </style>
 </head>
 
 <body>
  <div class="cursor-dot"></div>
  <div class="cursor-outline"></div>
  <div id="progress-bar"></div>
  <div id="vanta-bg"></div>
 
  <div id="bot-container" title="Chat with me!">
    <div class="pulse-ring"></div>
    <div id="bot-speech">System Online.</div>
    <div id="rpg-dialogue">
      <div class="rpg-close">Ã—</div>
      <div><span id="rpg-text">Initializing...</span><span id="rpg-cursor"></span></div>
      <div id="rpg-options"></div>
    </div>
    <div class="bot-antenna"></div>
    <div class="bot-head">
      <div class="bot-eye"><div class="bot-pupil"></div><div class="bot-lid"></div></div>
      <div class="bot-eye"><div class="bot-pupil"></div><div class="bot-lid"></div></div>
    </div>
  </div>

  <div class="layout-wrapper">
    <div class="container">
      <section id="main_content">
        {{ content }}
      </section>
 
      <div class="typewriter-container">
        <span id="typewriter-text"></span><span class="typewriter-cursor"></span>
      </div>
 
      <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1); text-align: center; color: #94a3b8; font-size: 0.85rem;">
        <p> E-Link â€¢ COPYRIGHT Â© 2026 Tianyu Bai</p>
      </footer>
    </div>
  </div>
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
  <script>
    const dialogData = {
      "start": {
        text: "Hi! I'm the Connector Guardian. Need a quick guide?",
        options: [
          { text: "What is the Connector?", next: "what_is" },
          { text: "How do I use it?", next: "how_to" },
          { text: "Just looking around", next: "close" }
        ]
      },
      "what_is": {
        text: "The Connector is a powerful bridge between data sources. It simplifies complex workflows into one click.",
        options: [ { text: "Sounds cool! Technical details?", next: "tech_details" }, { text: "Got it, thanks!", next: "close" } ]
      },
      "how_to": {
        text: "Simply click the badges below to integrate. Documentation is available in the repo.",
        options: [ { text: "Show me the badges", next: "show_badges" }, { text: "Back to menu", next: "start" } ]
      },
      "tech_details": {
        text: "It runs on Python & Node.js with ultra-low latency. Check the GitHub link below!",
        options: [ { text: "Awesome!", next: "close" } ]
      },
      "show_badges": {
        text: "Look down! ğŸ‘‡ Those shiny icons are your gateway.",
        options: [ { text: "Okay!", next: "close" } ]
      }
    };

    let vantaEffect = VANTA.NET({
      el: "#vanta-bg",
      mouseControls: true, touchControls: true, gyroControls: false,
      minHeight: 200.00, minWidth: 200.00, scale: 1.00, scaleMobile: 1.00,
      color: 0x3b82f6, backgroundColor: 0x0a0a0f, points: 18.00, maxDistance: 28.00, spacing: 16.00, showDots: true
    });
 
    const texts = ["Welcome to this webpage", "Thanks for visiting us!"];
    let textIdx = 0, charIdx = 0, isDeleting = false;
    function type() {
      const currentText = texts[textIdx];
      const display = isDeleting ? currentText.substring(0, charIdx--) : currentText.substring(0, charIdx++);
      document.getElementById('typewriter-text').textContent = display;
      let speed = isDeleting ? 50 : 100;
      if (!isDeleting && charIdx === currentText.length + 1) { isDeleting = true; speed = 2000; } 
      else if (isDeleting && charIdx === 0) { isDeleting = false; textIdx = (textIdx + 1) % texts.length; speed = 500; }
      setTimeout(type, speed);
    }
 
    document.addEventListener("DOMContentLoaded", function() {
      type();
      const cursorDot = document.querySelector('.cursor-dot');
      const cursorOutline = document.querySelector('.cursor-outline');
      const container = document.querySelector('.container');
      const pupils = document.querySelectorAll('.bot-pupil');
      const botContainer = document.getElementById('bot-container');
      const botSpeech = document.getElementById('bot-speech');
      
      const rpgDialogue = document.getElementById('rpg-dialogue');
      const rpgText = document.getElementById('rpg-text');
      const rpgOptions = document.getElementById('rpg-options');
      const rpgClose = document.querySelector('.rpg-close');
      let typeTimer = null;

      let mouseX = window.innerWidth / 2;
      let mouseY = 100;

      window.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        
        if(cursorDot) { cursorDot.style.left = `${mouseX}px`; cursorDot.style.top = `${mouseY}px`; }
        if(cursorOutline) { cursorOutline.animate({ left: `${mouseX}px`, top: `${mouseY}px` }, { duration: 500, fill: "forwards" }); }

        if (window.innerWidth > 768 && container) {
          const rx = (window.innerWidth / 2 - mouseX) / 50;
          const ry = (window.innerHeight / 2 - mouseY) / 50;
          container.style.transform = `rotateY(${rx * -1}deg) rotateX(${ry}deg)`;
          const rect = container.getBoundingClientRect();
          container.style.setProperty("--mouse-x", `${mouseX - rect.left}px`);
          container.style.setProperty("--mouse-y", `${mouseY - rect.top}px`);
        }
        
        pupils.forEach(p => {
          const rect = p.parentElement.getBoundingClientRect();
          const cx = rect.left + rect.width / 2, cy = rect.top + rect.height / 2;
          const angle = Math.atan2(mouseY - cy, mouseX - cx);
          const dist = Math.min(6, Math.hypot(mouseX - cx, mouseY - cy) / 10);
          p.style.transform = `translate(calc(-50% + ${Math.cos(angle) * dist}px), calc(-50% + ${Math.sin(angle) * dist}px))`;
        });
      });

      window.addEventListener('scroll', () => {
        const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
        const pb = document.getElementById("progress-bar");
        if(pb) pb.style.width = scrolled + "%";

        if(botContainer && window.innerWidth > 768) {
          if(window.scrollY > 200) {
            botContainer.classList.add('fixed-mode');
          } else {
            botContainer.classList.remove('fixed-mode');
          }
        }
      });

      function botSay(text, duration = 2000) {
        if(!botSpeech || !botContainer || rpgDialogue.classList.contains('active')) return; 
        botSpeech.textContent = text;
        botContainer.classList.add('speaking');
        if(botContainer.speechTimer) clearTimeout(botContainer.speechTimer);
        botContainer.speechTimer = setTimeout(() => {
          botContainer.classList.remove('speaking');
        }, duration);
      }

      function showDialogueNode(nodeKey) {
        if(nodeKey === 'close') { closeDialogue(); botSay("Bye!", 1500); return; }
        const node = dialogData[nodeKey];
        if(!node) return;
        rpgOptions.innerHTML = ''; rpgText.textContent = '';
        if(typeTimer) clearInterval(typeTimer);
        let i = 0;
        typeTimer = setInterval(() => {
          rpgText.textContent += node.text.charAt(i); i++;
          if(i >= node.text.length) {
            clearInterval(typeTimer);
            node.options.forEach((opt, idx) => {
              const btn = document.createElement('div');
              btn.className = 'rpg-btn'; btn.textContent = '> ' + opt.text;
              btn.style.animationDelay = `${idx * 0.1}s`;
              btn.onclick = (e) => { e.stopPropagation(); showDialogueNode(opt.next); };
              rpgOptions.appendChild(btn);
            });
          }
        }, 30);
      }

      function openDialogue() {
        if(rpgDialogue.classList.contains('active')) return;
        rpgDialogue.classList.add('active');
        botContainer.classList.add('speaking');
        botContainer.classList.add('hint-removed'); 
        showDialogueNode('start');
      }

      function closeDialogue() {
        rpgDialogue.classList.remove('active');
        botContainer.classList.remove('speaking');
        setTimeout(() => { rpgText.textContent = ''; rpgOptions.innerHTML = ''; }, 300);
      }

      if(botContainer) {
        botContainer.addEventListener('click', (e) => {
          e.stopPropagation();
          if(rpgDialogue.classList.contains('active')) closeDialogue();
          else openDialogue();
        });
      }
      if(rpgClose) rpgClose.addEventListener('click', (e) => { e.stopPropagation(); closeDialogue(); });
      document.addEventListener('click', (e) => {
        if(rpgDialogue.classList.contains('active') && !botContainer.contains(e.target)) closeDialogue();
      });

      setTimeout(() => botSay("Click me for guide!", 4000), 1000);

      const badges = document.querySelectorAll('.nav-badges a');
      badges.forEach(b => {
        b.addEventListener('mouseenter', () => {
          document.body.classList.add('badge-hovering', 'hovering');
          if(vantaEffect) vantaEffect.setOptions({ color: 0x60a5fa });
          botSay("Accessing...", 1500);
        });
        b.addEventListener('mouseleave', () => {
          document.body.classList.remove('badge-hovering', 'hovering');
          if(vantaEffect) vantaEffect.setOptions({ color: 0x3b82f6 });
        });
        b.addEventListener('click', function(e) {
          e.preventDefault();
          const url = this.href;
          badges.forEach((sib, idx) => {
              const img = sib.querySelector('img');
              img.style.animationDelay = `${Math.abs(idx - [...badges].indexOf(this)) * 0.06}s`;
              img.classList.add('rippling');
          });
          setTimeout(() => window.location.href = url, 500);
        });
      });
    });
  </script>
 </body>
</html>
